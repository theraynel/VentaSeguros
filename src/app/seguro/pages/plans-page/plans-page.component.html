<div class="card">
  <p-toast></p-toast>
  <p-confirmDialog [style]="{ width: '50vw' }"></p-confirmDialog>

  <p-toolbar styleClass="mb-4 flex justify-content-end">
    <ng-template pTemplate="right">
      <button
        pButton
        pRipple
        label="New"
        icon="pi pi-plus"
        class="p-button-primary mr-2"
        (click)="show()"
      ></button>
    </ng-template>
  </p-toolbar>

  <div>
    <p-table
      #dt1
      [paginator]="true"
      dataKey="id"
      [rows]="10"
      [rowHover]="true"
      [showCurrentPageReport]="true"
      [value]="planslts"
      [tableStyle]="{ 'min-width': '50rem' }"
      currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
      [rowsPerPageOptions]="[10, 25, 50]"
      [globalFilterFields]="[
        'nombre',
        'codigo',
        'cuota',
        'edadMaxima',
        'estado'
      ]"
    >
      <ng-template pTemplate="caption">
        <div class="flex align-items-center justify-content-between">
          <h2 class="m-0">Planes</h2>
          <span class="p-input-icon-left">
            <i class="pi pi-search"></i>
            <input
              pInputText
              type="text"
              (input)="dt1.filterGlobal($any($event.target).value, 'contains')"
              placeholder="Search..."
              style="width: auto"
            />
          </span>
        </div>
      </ng-template>
      <ng-template pTemplate="header">
        <tr>
          <th pSortableColumn="codigo">Codigo <p-sortIcon field="codigo" /></th>
          <th pSortableColumn="nombre">Nombre <p-sortIcon field="nombre" /></th>
          <th pSortableColumn="cuota">Cuota <p-sortIcon field="cuota" /></th>
          <th pSortableColumn="edadMaxima">
            Edad Maxima <p-sortIcon field="edadMaxima" />
          </th>
          <th pSortableColumn="estado">Estado <p-sortIcon field="estado" /></th>
          <th style="width: 4em">Opciones</th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-planslts>
        <tr>
          <td>{{ planslts.codigo }}</td>
          <td>{{ planslts.nombre }}</td>
          <td>{{ planslts.cuota | currency }}</td>
          <td>{{ planslts.edadMaxima }}</td>
          <td>
            <p-button
              [label]="common.getStatus(planslts.estado)"
              (onClick)="updateStatus(planslts)"
              [styleClass]="common.getSeverity(planslts.estado)"
            ></p-button>
          </td>
          <td class="flex p-1" style="font-size: 10x">
            <button
              type="button"
              (click)="openEdit(planslts)"
              pButton
              pRipple
              icon="pi pi-pencil"
              class="p-button-rounded mr-1"
            ></button>
            <button
              type="button"
              (click)="delete(planslts)"
              pButton
              pRipple
              icon="pi pi-trash"
              class="p-button-rounded p-button-danger"
            ></button>
          </td>
        </tr>
      </ng-template>
    </p-table>
  </div>
</div>

<!-- <div class="row p-0">
  <div class="flex">
    <p-toast></p-toast>
    <p-confirmDialog [style]="{ width: '50vw' }"></p-confirmDialog>
    <div class="col-10"></div>
    <div class="col-2">
      <p-button (click)="show()" label="New" icon="pi pi-plus"></p-button>
    </div>
  </div>
</div>

<div class="flex">
  <div>
    <p-table
      #dt1
      [paginator]="true"
      dataKey="id"
      [rows]="10"
      [rowHover]="true"
      [showCurrentPageReport]="true"
      [value]="planslts"
      [tableStyle]="{ 'min-width': '50rem' }"
      currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
      [rowsPerPageOptions]="[10, 25, 50]"
      [globalFilterFields]="[
        'nombre',
        'codigo',
        'cuota',
        'edadMaxima',
        'estado'
      ]"
    >
      <ng-template pTemplate="caption">
        <div class="flex align-items-center justify-content-between">
          <h2 class="m-0">Planes</h2>
          <span class="p-input-icon-left">
            <i class="pi pi-search"></i>
            <input
              pInputText
              type="text"
              (input)="dt1.filterGlobal($any($event.target).value, 'contains')"
              placeholder="Search..."
              style="width: auto"
            />
          </span>
        </div>
      </ng-template>
      <ng-template pTemplate="header">
        <tr>
          <th pSortableColumn="codigo">Codigo <p-sortIcon field="codigo" /></th>
          <th pSortableColumn="nombre">Nombre <p-sortIcon field="nombre" /></th>
          <th pSortableColumn="cuota">Cuota <p-sortIcon field="cuota" /></th>
          <th pSortableColumn="edadMaxima">
            Edad Maxima <p-sortIcon field="edadMaxima" />
          </th>
          <th pSortableColumn="estado">Estado <p-sortIcon field="estado" /></th>
          <th style="width: 4em"> Opciones</th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-planslts>
        <tr>
          <td>{{ planslts.codigo }}</td>
          <td>{{ planslts.nombre }}</td>
          <td>{{ planslts.cuota | currency }}</td>
          <td>{{ planslts.edadMaxima }}</td>
          <td>
            <p-tag
              [value]="common.getStatus(planslts.estado)"
              [severity]="common.getSeverity(planslts.estado)"
            ></p-tag>
          </td>
          <td class="flex p-1" style="font-size: 10x">
            <button
              type="button"
              (click)="openEdit(planslts)"
              pButton
              pRipple
              icon="pi pi-pencil"
              class="p-button-rounded mr-1"
            ></button>
            <button
              type="button"
              (click)="delete(planslts)"
              pButton
              pRipple
              icon="pi pi-trash"
              class="p-button-rounded"
            ></button>
          </td>
        </tr>
      </ng-template>
    </p-table>
  </div>
</div> -->
